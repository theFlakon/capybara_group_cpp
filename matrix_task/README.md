````md
# matrix_task: how to run

This program работает в двух режимах, режим передаётся первым аргументом командной строки.

## Usage

```bash
./program <mode>
````

Где `<mode>`:

* `cm` — decompress + print full matrix + compress back (проверка работы функций)
* `ap` — addSparse: сложение двух разреженных матриц без распаковки

Если аргумент не передан или режим неизвестен — программа печатает ошибку и завершает работу.

---

## Mode `cm` (comp/decomp demo)

### Input format

1. Размер матрицы: `rows cols`
2. Разреженная матрица (ненулевые элементы): сначала `k`, затем `k` строк вида
   `row col val`

### What it does

* читает размер и список ненулевых элементов
* распаковывает (decompress) в полную матрицу и печатает её
* затем снова сжимает (compress) и печатает compressed-вид

### Example

```bash
./program cm
```

Input:

```
3 3
1
1 2 2
```

---

## Mode `ap` (add_sparse)

### Input format

Две разреженные матрицы подряд в виде списков ненулевых элементов:

Для A:

* `k1`, затем `k1` строк `row col val`

Для B:

* `k2`, затем `k2` строк `row col val`

### What it does

* читает A и B
* сортирует элементы по `(row, col)` (нужно для merge-алгоритма)
* складывает матрицы: если координаты совпали — значения суммируются
* элементы с суммой, близкой к нулю, отбрасываются (`|sum| < 1e-9`)
* печатает результат в compressed-формате

### Example

```bash
./program ap
```

Input:

```
2
0 1 5
1 2 3
2
0 1 2
2 0 7
```

Output:

```
Compressed Matrix:
0 1 7
1 2 3
2 0 7
```
